# å¸Œå¡ä¹‹çŸ³ (Sheikah Slate) - Claude Code ç›‘æ§ç³»ç»Ÿ

## äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)

**ç‰ˆæœ¬ï¼š** 2.1
**æ—¥æœŸï¼š** 2026-02-27
**çŠ¶æ€ï¼š** è‰æ¡ˆ

---

## 1. äº§å“æ¦‚è¿°

### 1.1 äº§å“åç§°
**å¸Œå¡ä¹‹çŸ³ (Sheikah Slate)** - Claude Code ä¼šè¯ç›‘æ§ç³»ç»Ÿ

### 1.2 äº§å“å®šä½
ä¸€ä¸ªç®€æ´çš„ Web é¢æ¿ï¼Œç”¨äºç›‘æ§å’Œç®¡ç† Claude Code ä¼šè¯ï¼Œçµæ„Ÿæ¥è‡ªã€Šå¡å°”è¾¾ä¼ è¯´ã€‹ä¸­çš„å¸Œå¡ä¹‹çŸ³ã€‚

### 1.3 æ ¸å¿ƒä»·å€¼
- **å®æ—¶ç›‘æ§**ï¼šæŸ¥çœ‹ Claude Code ä¼šè¯çŠ¶æ€ï¼ˆè¿è¡Œä¸­ã€å·²å®Œæˆã€Token æ¶ˆè€—ã€è¿è¡Œæ—¶é—´ï¼‰
- **ä¼šè¯ç®¡ç†**ï¼šæµè§ˆã€æ¢å¤ã€ç®¡ç†å†å²ä¼šè¯
- **ç»ˆç«¯é›†æˆ**ï¼šWeb ç»ˆç«¯ç›´æ¥è¿æ¥ Claude Code ä¼šè¯
- **çµæ„Ÿæ•æ‰**ï¼šéšæ—¶è®°å½•å¼€å‘çµæ„Ÿå’Œæƒ³æ³•ï¼Œæ”¯æŒä»æƒ³æ³•åˆ°ä»»åŠ¡çš„è½¬åŒ–
- **é›¶é…ç½®**ï¼šè‡ªåŠ¨æ‰«æ `~/.claude` ç›®å½•ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®

---

## 2. è®¾è®¡åŸåˆ™

### 2.1 ç®€æ´ (Simplicity)
- å‰åç«¯äº¤äº’é€»è¾‘ä¿æŒç®€å•ã€ä¸€è‡´
- å•ä¸€ HTML æ–‡ä»¶å®ç°å‰ç«¯é€»è¾‘
- RESTful API è®¾è®¡ï¼Œç«¯ç‚¹æ•°é‡æœ€å°åŒ–

### 2.2 å‰ç«¯ (Frontend)
- å•ä¸ª HTML æ–‡ä»¶åŒ…å«æ‰€æœ‰é€»è¾‘
- ä½¿ç”¨åŸç”Ÿ JavaScriptï¼Œæ— æ¡†æ¶ä¾èµ–
- å†…è” CSSï¼Œä¿æŒæ ·å¼ä¸€è‡´
- æ¨¡å—åŒ–ä»£ç ç»“æ„ï¼ˆå‡½æ•°åˆ†ç¦»ã€èŒè´£å•ä¸€ï¼‰

### 2.3 åç«¯ (Backend)
- Node.js åŸç”Ÿæ¨¡å—ï¼Œé›¶è¿è¡Œæ—¶ä¾èµ–
- SSE (Server-Sent Events) å®ç°ç»ˆç«¯æµå¼è¾“å‡º
- è‡ªåŠ¨è®¤è¯ï¼šé¦–æ¬¡å¯åŠ¨æ—¶å¤„ç†æœåŠ¡å™¨å¯†ç 
- ç›´æ¥è°ƒç”¨ `claude` CLI å‘½ä»¤

---

## 3. åŠŸèƒ½éœ€æ±‚

### ç¬¬ä¸€é˜¶æ®µï¼šä¼šè¯ç›‘æ§é¢æ¿

#### 3.1.1 ä¼šè¯åˆ—è¡¨
**åŠŸèƒ½æè¿°**ï¼šå±•ç¤ºæ‰€æœ‰ Claude Code ä¼šè¯çš„åŸºæœ¬ä¿¡æ¯

**æ˜¾ç¤ºå†…å®¹**ï¼š
| å­—æ®µ | è¯´æ˜ |
|------|------|
| ä¼šè¯ ID | Claude Code ä¼šè¯å”¯ä¸€æ ‡è¯†ï¼ˆå‰ 8 ä½ï¼‰ |
| çŠ¶æ€ | è¿è¡Œä¸­ (Running) / å·²å®Œæˆ (Completed) / å·²åœæ­¢ (Stopped) |
| Token æ¶ˆè€— | å½“å‰ä¼šè¯æ¶ˆè€—çš„ Token æ€»æ•° |
| è¿è¡Œæ—¶é—´ | ä¼šè¯å¯åŠ¨è‡³ä»Šçš„æ—¶é—´ |
| æœ€åæ´»åŠ¨ | æœ€åä¸€æ¬¡äº¤äº’æ—¶é—´ |

**æ•°æ®æ¥æº**ï¼š
- æ‰«æ `~/.claude/session-env/` ç›®å½•
- è§£æ `~/.claude/history.jsonl` è·å–ä¼šè¯å…ƒæ•°æ®

#### 3.1.2 çŠ¶æ€æŒ‡ç¤ºå™¨
- **è¿è¡Œä¸­**ï¼šé’è‰² pulsing åœ†ç‚¹
- **å·²å®Œæˆ**ï¼šç»¿è‰²åœ†ç‚¹
- **å·²åœæ­¢**ï¼šçº¢è‰²åœ†ç‚¹

#### 3.1.3 è‡ªåŠ¨åˆ·æ–°
- æ¯ 10 ç§’è‡ªåŠ¨åˆ·æ–°ä¼šè¯åˆ—è¡¨
- æ‰‹åŠ¨åˆ·æ–°æŒ‰é’®

---

### ç¬¬äºŒé˜¶æ®µï¼šä¼šè¯è¯¦æƒ…ä¸ç»ˆç«¯é›†æˆ

#### 3.2.1 ä¼šè¯é€‰æ‹©
- ç‚¹å‡»ä¼šè¯å¡ç‰‡è¿›å…¥è¯¦æƒ…
- æ˜¾ç¤ºå®Œæ•´ä¼šè¯ä¿¡æ¯
- æä¾›æ“ä½œæŒ‰é’®ï¼ˆæ¢å¤ã€åœæ­¢ã€æŸ¥çœ‹å†å²ï¼‰

#### 3.2.2 Web ç»ˆç«¯
**åŠŸèƒ½æè¿°**ï¼šåœ¨æµè§ˆå™¨ä¸­ç›´æ¥æ“ä½œ Claude Code ä¼šè¯

**æŠ€æœ¯å®ç°**ï¼š
- ä½¿ç”¨ xterm.js ä½œä¸ºç»ˆç«¯æ¨¡æ‹Ÿå™¨
- SSE æ¥æ”¶åç«¯è¾“å‡ºæµ
- POST å‘é€ç”¨æˆ·è¾“å…¥åˆ°åç«¯

**æ“ä½œæµç¨‹**ï¼š
1. ç”¨æˆ·ç‚¹å‡»ã€Œç»ˆç«¯ã€æŒ‰é’®
2. åç«¯æ‰§è¡Œ `claude --resume <session-id>`
3. å»ºç«‹ SSE è¿æ¥ï¼Œæµå¼è¾“å‡ºç»ˆç«¯å†…å®¹
4. ç”¨æˆ·è¾“å…¥é€šè¿‡ POST å‘é€åˆ°åç«¯
5. åç«¯å†™å…¥ claude è¿›ç¨‹çš„ stdin

#### 3.2.3 ä¼šè¯æ“ä½œ
| æ“ä½œ | CLI å‘½ä»¤ | è¯´æ˜ |
|------|---------|------|
| æ¢å¤ä¼šè¯ | `claude --resume <id>` | è¿æ¥åˆ°ç°æœ‰ä¼šè¯ |
| åœæ­¢ä¼šè¯ | `kill <pid>` | ç»ˆæ­¢ä¼šè¯è¿›ç¨‹ |
| é‡å‘½å | `claude --rename` | é‡å‘½åä¼šè¯ |
| æŸ¥çœ‹å†å² | `claude --history` | æŸ¥çœ‹ä¼šè¯å†å² |

---

### ç¬¬ä¸‰é˜¶æ®µï¼šCC Ideas çµæ„Ÿæ•æ‰

#### 3.3.1 çµæ„Ÿåˆ—è¡¨é¡µé¢
**åŠŸèƒ½æè¿°**ï¼šç‹¬ç«‹çš„çµæ„Ÿæ•æ‰å’Œç®¡ç†é¡µé¢ (`/idea.html`)

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- å¿«é€Ÿè®°å½•å¼€å‘çµæ„Ÿå’Œæƒ³æ³•
- æ”¯æŒçŠ¶æ€æ ‡è®°å’Œåˆ†ç±»
- æœ¬åœ°å­˜å‚¨ï¼Œæ— éœ€åç«¯ä¾èµ–

**æ˜¾ç¤ºå†…å®¹**ï¼š
| å­—æ®µ | è¯´æ˜ |
|------|------|
| çµæ„Ÿå†…å®¹ | ç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬ï¼ˆæœ€å¤§ 2000 å­—ç¬¦ï¼‰ |
| çŠ¶æ€ | æ–°å»º / è¿›è¡Œä¸­ / å·²å®Œæˆ / å·²å½’æ¡£ |
| æ—¶é—´æˆ³ | åˆ›å»ºæ—¶é—´ï¼ˆç›¸å¯¹æ—¶é—´æ˜¾ç¤ºï¼‰ |
| æ“ä½œ | åˆ é™¤ã€å¤åˆ¶ã€æ›´æ”¹çŠ¶æ€ |

#### 3.3.2 çŠ¶æ€ç³»ç»Ÿ
| çŠ¶æ€ | æ ‡è¯† | é¢œè‰² | è¯´æ˜ |
|------|------|------|------|
| New | âœ¨ | æ©™è‰² | æ–°è®°å½•çš„æƒ³æ³• |
| In Progress | ğŸ”„ | è“è‰² | æ­£åœ¨å®ç°ä¸­çš„æƒ³æ³• |
| Done | âœ… | ç»¿è‰² | å·²å®Œæˆçš„æƒ³æ³• |
| Archived | ğŸ—„ï¸ | æ£•è‰² | å·²å½’æ¡£çš„å†å²æƒ³æ³• |

#### 3.3.3 æ·»åŠ çµæ„Ÿ
**è¾“å…¥æ–¹å¼**ï¼š
- æ–‡æœ¬æ¡†è¾“å…¥ï¼ˆæ”¯æŒå¤šè¡Œï¼‰
- å­—ç¬¦é™åˆ¶ï¼š2000 å­—ç¬¦
- çŠ¶æ€é€‰æ‹©ï¼šé»˜è®¤ä¸º "New"
- å¿«æ·æ“ä½œï¼š`Ctrl/Cmd + Enter` ä¿å­˜

#### 3.3.4 æœç´¢ä¸è¿‡æ»¤
- å®æ—¶æœç´¢ï¼šæ ¹æ®å…³é”®è¯è¿‡æ»¤çµæ„Ÿ
- çŠ¶æ€è¿‡æ»¤ï¼šæŒ‰çŠ¶æ€ç­›é€‰ï¼ˆå¯é€‰åŠŸèƒ½ï¼‰
- å¿«æ·é”®ï¼š`Ctrl/Cmd + K` èšç„¦æœç´¢æ¡†

#### 3.3.5 æ“ä½œåŠŸèƒ½
| æ“ä½œ | è¯´æ˜ |
|------|------|
| åˆ é™¤ | åˆ é™¤çµæ„Ÿï¼ˆå¸¦ç¡®è®¤å¯¹è¯æ¡†ï¼‰ |
| å¤åˆ¶ | å¤åˆ¶çµæ„Ÿå†…å®¹åˆ°å‰ªè´´æ¿ |
| æ›´æ”¹çŠ¶æ€ | é€šè¿‡ä¸‹æ‹‰èœå•æ›´æ”¹çŠ¶æ€ |

#### 3.3.6 æ•°æ®å­˜å‚¨
- å­˜å‚¨æ–¹å¼ï¼šlocalStorage
- Key: `claudepad_ideas`
- æŒä¹…åŒ–ï¼šæµè§ˆå™¨å…³é—­åæ•°æ®ä¿ç•™

#### 3.3.7 é”®ç›˜å¿«æ·é”®
| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl/Cmd + Enter` | ä¿å­˜çµæ„Ÿ |
| `Escape` | æ¸…ç©ºè¡¨å• / æ¸…é™¤æœç´¢ |
| `Ctrl/Cmd + K` | èšç„¦æœç´¢æ¡† |

#### 3.3.8 UI è®¾è®¡è¦æ±‚
- é‡‡ç”¨ Sheikah Slate ä¸»é¢˜ï¼ˆé’é“œè‰² + é’è‰²ï¼‰
- ä¸ä¸»é¡µé£æ ¼ä¸€è‡´
- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- çŠ¶æ€å¾½ç« é¢œè‰²åŒºåˆ†

---

## 4. æŠ€æœ¯æ¶æ„

### 4.1 ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Browser (Frontend)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Sessions   â”‚  â”‚   Session   â”‚  â”‚     Web Terminal    â”‚  â”‚
â”‚  â”‚    List     â”‚  â”‚   Detail    â”‚  â”‚     (xterm.js)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                â”‚                     â”‚             â”‚
â”‚         â”‚ GET /api/      â”‚ GET /api/           â”‚ SSE / POST  â”‚
â”‚         â”‚ sessions       â”‚ sessions/:id        â”‚ /terminal/* â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Node.js Server (Backend)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Session   â”‚  â”‚   Session   â”‚  â”‚    Terminal Proxy   â”‚  â”‚
â”‚  â”‚    Scanner  â”‚  â”‚   Manager   â”‚  â”‚   (SSE + stdin)     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                â”‚                     â”‚             â”‚
â”‚         â–¼                â–¼                     â–¼             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Claude CLI Commands                         â”‚ â”‚
â”‚  â”‚  claude --resume   claude --list   claude --history     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    File System Access                        â”‚
â”‚  ~/.claude/session-env/   ~/.claude/history.jsonl           â”‚
â”‚  ~/.claude/skills/        ~/.claude/settings.json           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 æ•°æ®æµ

#### 4.2.1 ä¼šè¯åˆ—è¡¨è·å–
```
User Click Refresh
       â†“
Frontend: GET /api/sessions
       â†“
Backend: Scan ~/.claude/session-env/
       â†“
Backend: Parse history.jsonl
       â†“
Backend: Return JSON [{id, status, tokens, duration}]
       â†“
Frontend: Render Session Cards
```

#### 4.2.2 ç»ˆç«¯è¿æ¥
```
User Click Terminal
       â†“
Frontend: Open SSE /terminal/stream?id=xxx
       â†“
Backend: Spawn `claude --resume <id>`
       â†“
Backend: Pipe stdout â†’ SSE clients
       â†“
Frontend: xterm.js write(output)
       â†“
User Input â†’ POST /terminal/input
       â†“
Backend: Write to claude stdin
```

---

## 5. API è®¾è®¡

### 5.1 ä¼šè¯ API

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/sessions` | è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨ |
| GET | `/api/sessions/:id` | è·å–å•ä¸ªä¼šè¯è¯¦æƒ… |
| POST | `/api/sessions/:id/resume` | æ¢å¤æŒ‡å®šä¼šè¯ |
| POST | `/api/sessions/:id/stop` | åœæ­¢æŒ‡å®šä¼šè¯ |

### 5.2 ç»ˆç«¯ API

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/terminal/stream?id=xxx` | SSE ç»ˆç«¯è¾“å‡ºæµ |
| POST | `/terminal/input` | å‘é€ç”¨æˆ·è¾“å…¥ |

### 5.3 ç³»ç»Ÿ API

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/health` | å¥åº·æ£€æŸ¥ |
| GET | `/api/skills` | è·å–å·²å®‰è£… Skills |
| GET | `/api/settings` | è·å– Claude è®¾ç½® |

---

## 6. æ•°æ®ç»“æ„

### 6.1 Session å¯¹è±¡
```json
{
  "id": "abc12345-6789-40ab-cdef-123456789012",
  "name": "Fix login bug",
  "status": "running",
  "tokenCount": 15000,
  "startTime": "2026-02-27T10:30:00Z",
  "lastActivity": "2026-02-27T11:45:00Z",
  "projectPath": "/home/user/project"
}
```

### 6.2 Terminal Output
```json
{
  "type": "output",
  "data": "Claude is thinking...\n"
}
```

### 6.3 Terminal Input
```json
{
  "session_id": "abc12345",
  "data": "Hello, Claude!"
}
```

---

## 7. å‰ç«¯ç»“æ„

### 7.1 å•æ–‡ä»¶ç»„ç»‡
```html
<!DOCTYPE html>
<html>
<head>
  <title>å¸Œå¡ä¹‹çŸ³ // Claude Code Monitor</title>
  <style>
    /* CSS Variables */
    :root { --colors... }

    /* Global Styles */
    * { reset... }

    /* Layout Components */
    .header { ... }
    .container { ... }
    .panel { ... }

    /* Session Components */
    .session-card { ... }
    .session-status { ... }
  </style>
</head>
<body>
  <!-- Header -->
  <header>...</header>

  <!-- Main Content -->
  <main>
    <!-- Sessions Panel -->
    <section id="sessions">...</section>

    <!-- Terminal Panel (hidden by default) -->
    <section id="terminal" style="display:none">...</section>
  </main>

  <script>
    // State
    let sessions = [];
    let currentSession = null;

    // API Functions
    async function fetchSessions() { ... }
    async function resumeSession(id) { ... }

    // UI Functions
    function renderSessions() { ... }
    function showTerminal() { ... }

    // Terminal Functions
    function initTerminal() { ... }
    function streamOutput() { ... }

    // Event Handlers
    function init() { ... }
  </script>
</body>
</html>
```

---

## 8. åç«¯ç»“æ„

### 8.1 æœåŠ¡å™¨æ¨¡å—
```javascript
// server.js
import { createServer } from 'node:http';
import { spawn } from 'node:child_process';

// Routes
const routes = {
  'GET /health': healthCheck,
  'GET /api/sessions': getSessions,
  'GET /api/sessions/:id': getSession,
  'POST /api/sessions/:id/resume': resumeSession,
  'GET /terminal/stream': terminalStream,
  'POST /terminal/input': terminalInput,
};

// Main Server
const server = createServer(async (req, res) => {
  // Route matching
  // CORS headers
  // Response handling
});

// Session Scanner
async function scanSessions() {
  // Read ~/.claude/session-env/
  // Parse history.jsonl
  // Return session list
}

// Terminal Manager
function spawnClaude(sessionId) {
  // Spawn `claude --resume <id>`
  // Pipe stdout to SSE
  // Handle stdin from POST
}
```

---

## 9. å®‰å…¨è€ƒè™‘

### 9.1 æœåŠ¡å™¨è®¤è¯
- é¦–æ¬¡å¯åŠ¨æ—¶ç”Ÿæˆéšæœºå¯†ç 
- å¯†ç ä¿å­˜åœ¨ `~/.claudepad/token`
- å‰ç«¯é¦–æ¬¡è®¿é—®æ—¶æç¤ºè¾“å…¥å¯†ç 
- è®¤è¯æˆåŠŸåä¿å­˜ token åˆ° localStorage

### 9.2 å‘½ä»¤æ‰§è¡Œå®‰å…¨
- ä»…å…è®¸æ‰§è¡Œ `claude` CLI å‘½ä»¤
- ä¸æš´éœ²ä»»æ„å‘½ä»¤æ‰§è¡Œæ¥å£
- ä¼šè¯ ID éªŒè¯é˜²æ­¢æœªæˆæƒè®¿é—®

---

## 10. æ€§èƒ½è¦æ±‚

| æŒ‡æ ‡ | ç›®æ ‡ |
|------|------|
| ä¼šè¯åˆ—è¡¨åŠ è½½æ—¶é—´ | < 500ms |
| ç»ˆç«¯è¾“å‡ºå»¶è¿Ÿ | < 100ms |
| é¡µé¢é¦–å±æ¸²æŸ“ | < 1s |
| è‡ªåŠ¨åˆ·æ–°é—´éš” | 10s |

---

## 11. å¼€å‘è·¯çº¿å›¾

### Phase 1 (MVP) - ä¼šè¯ç›‘æ§
- [x] åç«¯ï¼šæ‰«æä¼šè¯ç›®å½•
- [x] åç«¯ï¼š`/api/sessions` ç«¯ç‚¹
- [x] å‰ç«¯ï¼šä¼šè¯åˆ—è¡¨ UI
- [x] å‰ç«¯ï¼šçŠ¶æ€æŒ‡ç¤ºå™¨
- [x] å‰ç«¯ï¼šè‡ªåŠ¨åˆ·æ–°

### Phase 2 - ç»ˆç«¯é›†æˆ
- [x] åç«¯ï¼šSSE ç»ˆç«¯æµ
- [x] åç«¯ï¼š`/terminal/input` ç«¯ç‚¹
- [x] å‰ç«¯ï¼šxterm.js é›†æˆ
- [x] å‰ç«¯ï¼šç»ˆç«¯ UI é¢æ¿
- [x] å‰ç«¯ï¼šä¼šè¯åˆ‡æ¢

### Phase 3 - CC Ideas çµæ„Ÿæ•æ‰
- [x] å‰ç«¯ï¼šç‹¬ç«‹ idea.html é¡µé¢
- [x] å‰ç«¯ï¼šçµæ„Ÿæ·»åŠ /åˆ é™¤åŠŸèƒ½
- [x] å‰ç«¯ï¼šçŠ¶æ€æ ‡è®°ç³»ç»Ÿ
- [x] å‰ç«¯ï¼šæœç´¢/è¿‡æ»¤åŠŸèƒ½
- [x] å‰ç«¯ï¼šlocalStorage æŒä¹…åŒ–
- [x] å‰ç«¯ï¼šé”®ç›˜å¿«æ·é”®æ”¯æŒ
- [x] å‰ç«¯ï¼šå“åº”å¼è®¾è®¡
- [ ] å‰ç«¯ï¼šä»æƒ³æ³•åˆ›å»ºä»»åŠ¡ï¼ˆæœªæ¥ï¼‰
- [ ] åç«¯ï¼šæƒ³æ³•ä¸ä»»åŠ¡å…³è”ï¼ˆæœªæ¥ï¼‰

### Phase 4 - å¢å¼ºåŠŸèƒ½ï¼ˆè§„åˆ’ä¸­ï¼‰
- [ ] Skills ç®¡ç†
- [ ] ä¼šè¯æœç´¢
- [ ] Token ç»Ÿè®¡å›¾è¡¨
- [ ] ä¼šè¯å¯¼å‡º
- [ ] é…ç½®ç®¡ç† UI
- [ ] PWA æ”¯æŒ

---

## 12. å‚è€ƒèµ„æº

### 12.1 Claude CLI å‘½ä»¤
```bash
claude --list           # åˆ—å‡ºæ‰€æœ‰ä¼šè¯
claude --resume <id>    # æ¢å¤ä¼šè¯
claude --rename         # é‡å‘½åä¼šè¯
claude --help           # æŸ¥çœ‹å¸®åŠ©
```

### 12.2 æ•°æ®ç›®å½•
```
~/.claude/
â”œâ”€â”€ session-env/        # ä¼šè¯ç¯å¢ƒæ–‡ä»¶
â”œâ”€â”€ history.jsonl       # ä¼šè¯å†å²
â”œâ”€â”€ skills/             # å®‰è£…çš„ Skills
â””â”€â”€ settings.json       # ç”¨æˆ·è®¾ç½®
```

### 12.3 æŠ€æœ¯æ ˆ
- **å‰ç«¯**ï¼šåŸç”Ÿ HTML/CSS/JS + xterm.js
- **åç«¯**ï¼šNode.js åŸç”Ÿæ¨¡å—
- **é€šä¿¡**ï¼šREST API + SSE

---

*æ–‡æ¡£ç»“æŸ*
